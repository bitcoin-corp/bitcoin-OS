<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitcoin OS Integration Guide - The Bitcoin Corporation</title>
    <style>
        @page { size: A4; margin: 2cm; }
        body { font-family: 'Times New Roman', serif; line-height: 1.6; color: #000; font-size: 11pt; }
        .header { text-align: center; border-bottom: 3px solid #000; margin-bottom: 30px; padding-bottom: 20px; }
        .company-logo { font-size: 24pt; font-weight: bold; letter-spacing: 2px; margin-bottom: 10px; }
        .document-title { font-size: 18pt; font-weight: bold; margin: 15px 0 5px 0; }
        .document-subtitle { font-size: 12pt; font-style: italic; margin-bottom: 10px; }
        .document-info { font-size: 10pt; color: #666; }
        h1 { font-size: 16pt; font-weight: bold; border-bottom: 2px solid #000; padding-bottom: 8px; margin-top: 40px; margin-bottom: 20px; }
        h2 { font-size: 14pt; font-weight: bold; margin-top: 30px; margin-bottom: 15px; border-left: 4px solid #000; padding-left: 12px; }
        h3 { font-size: 12pt; font-weight: bold; margin-top: 25px; margin-bottom: 12px; }
        .content { font-family: inherit; }
        .download-section { border: 2px solid #000; padding: 15px; margin: 20px 0; background: #e8f4ff; text-align: center; }
        .download-link { display: inline-block; background: #000; color: white; padding: 10px 20px; text-decoration: none; font-weight: bold; margin: 5px; }
        .code-block { background: #f8f8f8; padding: 10px; border-left: 4px solid #000; font-family: monospace; font-size: 9pt; margin: 10px 0; }
        ul { margin: 10px 0; padding-left: 20px; }
        li { margin: 5px 0; }
        table { width: 100%; border-collapse: collapse; margin: 15px 0; }
        th, td { border: 1px solid #000; padding: 8px; text-align: left; font-size: 10pt; }
        th { background: #f0f0f0; font-weight: bold; }
        @media print { .download-section { display: none; } }
    </style>
</head>
<body>
    <div class="header">
        <div class="company-logo">THE BITCOIN CORPORATION</div>
        <div class="document-title">Bitcoin OS Integration Guide</div>
        <div class="document-subtitle">Developer Integration & API Documentation</div>
        <div class="document-info">Document Version: 1.0 | Date: November 2025 | The Bitcoin Corporation LTD</div>
    </div>
    <div class="download-section">
        <h3>ðŸ“„ Download PDF Version</h3>
        <a href="/INTEGRATION.pdf" class="download-link" download>Download PDF</a>
    </div>
    <div class="content">
        <h1>Bitcoin OS Integration Guide</h1><h2>Overview</h2><p>Bitcoin OS provides a unified desktop environment for all Bitcoin apps. Each app can run independently or within the Bitcoin OS shell, providing a seamless experience.</p><h2>Architecture</h2><p><div class="code-block"></p>
<p>Bitcoin OS (Main Shell)</p>
<p>â”œâ”€â”€ TopMenuBar (Rainbow Bitcoin menu + app launcher)</p>
<p>â”œâ”€â”€ Desktop (App icons)</p>
<p>â”œâ”€â”€ AppLoader (iframe container for apps)</p>
<p>â”‚   â”œâ”€â”€ Bitcoin Wallet</p>
<p>â”‚   â”œâ”€â”€ Bitcoin Email</p>
<p>â”‚   â”œâ”€â”€ Bitcoin Music</p>
<p>â”‚   â””â”€â”€ ... other apps</p>
<p>â””â”€â”€ OSTaskbar (Bottom taskbar with open apps)</p>
<p></div></p><h2>For App Developers</h2><h3>Quick Start</h3><p>Each app needs to:</p>
<p>1. Continue working standalone (users can still visit your app directly)</p>
<p>2. Add Bitcoin OS bridge for enhanced integration when running inside OS</p>
<p>3. Handle theme/config messages from OS</p><h3>Integration Steps</h3><p>#### 1. Install the Bridge (Option A - NPM Package)</p><p><div class="code-block">bash</p>
<p>npm install @bitcoin-os/bridge</p>
<p></div></p><p>#### 2. Install the Bridge (Option B - Copy Files)</p><p>Copy these files from bitcoin-OS repo:</p>
<p><ul><li><code>/lib/bitcoin-os-bridge.js</code> - Vanilla JS</li></p>
<p><li><code>/lib/useBitcoinOS.ts</code> - React Hook</li></p><p>#### 3. React Integration</p><p><div class="code-block">tsx</p>
<p>import { useBitcoinOS } from '@bitcoin-os/bridge/react'</p><p>function App() {</p>
<p>  const { isInOS, theme, navigateHome, openApp } = useBitcoinOS()</p>
<p>  </p>
<p>  return (</p>
<p>    <div data-theme={theme}></p>
<p>      {isInOS && (</p>
<p>        <button onClick={navigateHome}>Back to Desktop</button></p>
<p>      )}</p>
<p>      {/<em> Your app content </em>/}</p>
<p>    </div></p>
<p>  )</p>
<p>}</p>
<p></div></p><p>#### 4. Vanilla JS Integration</p><p><div class="code-block">html</p>
<p><script src="bitcoin-os-bridge.js"></script></p>
<p><script></p>
<p>  // Check if running in OS</p>
<p>  if (bitcoinOS.isInOS) {</p>
<p>    // Add OS-specific features</p>
<p>    document.getElementById('home-btn').onclick = () => {</p>
<p>      bitcoinOS.navigateHome()</p>
<p>    }</p>
<p>  }</p>
<p>  </p>
<p>  // Listen for theme changes</p>
<p>  bitcoinOS.on('theme-change', (theme) => {</p>
<p>    document.body.className = theme</p>
<p>  })</p>
<p></script></p>
<p></div></p><h3>Styling Guidelines</h3><p>1. <strong>Remove duplicate taskbars</strong> - When <code>isInOS</code> is true, hide your app's taskbar</p>
<p>2. <strong>Respect OS theme</strong> - Use the theme provided by OS</p>
<p>3. <strong>Window controls</strong> - OS handles window management, remove your controls when in OS</p><p>Example:</p><p><div class="code-block">css</p>
<p>/<em> Hide app taskbar when in OS </em>/</p>
<p>[data-in-os="true"] .app-taskbar {</p>
<p>  display: none;</p>
<p>}</p><p>/<em> Theme support </em>/</p>
<p>[data-theme="dark"] {</p>
<p>  --bg-color: #000;</p>
<p>  --text-color: #fff;</p>
<p>}</p><p>[data-theme="light"] {</p>
<p>  --bg-color: #fff;</p>
<p>  --text-color: #000;</p>
<p>}</p>
<p></div></p><h3>API Reference</h3><p>#### bitcoinOS / useBitcoinOS</p><p><li><code>isInOS: boolean</code> - True when running inside Bitcoin OS</li></p>
<p><li><code>theme: 'light' | 'dark'</code> - Current OS theme</li></p>
<p><li><code>navigateHome()</code> - Close app and return to desktop</li></p>
<p><li><code>openApp(appName: string)</code> - Open another app</li></p>
<p><li><code>showNotification(title, message)</code> - Show OS notification</li></p>
<p><li><code>setTitle(title)</code> - Update window title in OS</li></p><h3>Testing Your Integration</h3><p>1. <strong>Local Development</strong></p>
<p>   <div class="code-block">bash</p>
<p>   # Run Bitcoin OS</p>
<p>   cd bitcoin-OS</p>
<p>   npm run dev  # Runs on port 3000</p>
<p>   </p>
<p>   # Run your app</p>
<p>   cd bitcoin-wallet</p>
<p>   npm run dev  # Run on port 3001</p>
<p>   </div></p><p>2. <strong>Update bitcoin-OS config</strong> for local testing:</p>
<p>   <div class="code-block">ts</p>
<p>   // bitcoin-OS/lib/apps.config.ts</p>
<p>   {</p>
<p>     id: 'bitcoin-wallet',</p>
<p>     url: process.env.NODE_ENV === 'development' </p>
<p>       ? 'http://localhost:3001'  // Your local app</p>
<p>       : 'https://bitcoin-wallet.vercel.app'</p>
<p>   }</p>
<p>   </div></p><p>3. <strong>Test integration</strong>:</p>
<p>   - Open Bitcoin OS</p>
<p>   - Click rainbow Bitcoin menu</p>
<p>   - Select your app</p>
<p>   - Verify it opens in AppLoader</p>
<p>   - Test navigation back to desktop</p><h2>For Bitcoin OS Maintainers</h2><h3>Adding New Apps</h3><p>1. Update <code>/lib/apps.config.ts</code>:</p>
<p><div class="code-block">ts</p>
<p>export const bitcoinApps = [</p>
<p>  // ... existing apps</p>
<p>  {</p>
<p>    id: 'bitcoin-newapp',</p>
<p>    name: 'Bitcoin NewApp',</p>
<p>    url: 'https://bitcoin-newapp.vercel.app',</p>
<p>    color: '#color',</p>
<p>    description: 'Description'</p>
<p>  }</p>
<p>]</p>
<p></div></p><p>2. Apps will automatically appear in:</p>
<p><li>Rainbow Bitcoin menu</li></p>
<p><li>Apps menu in top bar</li></p>
<p><li>Desktop (if icon configured)</li></p><h3>CORS and Security</h3><p>Apps must allow iframe embedding. Add to your app:</p><p><div class="code-block">js</p>
<p>// Next.js - next.config.js</p>
<p>module.exports = {</p>
<p>  async headers() {</p>
<p>    return [</p>
<p>      {</p>
<p>        source: '/:path*',</p>
<p>        headers: [</p>
<p>          {</p>
<p>            key: 'X-Frame-Options',</p>
<p>            value: 'SAMEORIGIN'  // Or remove entirely</p>
<p>          }</p>
<p>        ]</p>
<p>      }</p>
<p>    ]</p>
<p>  }</p>
<p>}</p>
<p></div></p><h2>Migration Path for Existing Apps</h2><h3>Phase 1: Basic Integration (Current)</h3>
<p><li>Apps run in iframes</li></p>
<p><li>Basic PostMessage communication</li></p>
<p><li>Shared theme</li></p><h3>Phase 2: Enhanced Integration</h3>
<p><li>Shared authentication</li></p>
<p><li>Inter-app communication</li></p>
<p><li>Unified notifications</li></p><h3>Phase 3: Native Features</h3>
<p><li>File system access</li></p>
<p><li>Bitcoin wallet integration</li></p>
<p><li>Shared data storage</li></p><h2>Example Implementations</h2><p>See these apps for reference:</p>
<p><li><code>/components/AppLoader.tsx</code> - OS side implementation</li></p>
<p><li>(To be added to each app repo)</li></p><h2>Troubleshooting</h2><p><strong>App not loading in OS?</strong></p>
<p><li>Check CORS headers</li></p>
<p><li>Verify URL in apps.config.ts</li></p>
<p><li>Check browser console for errors</li></p><p><strong>Theme not applying?</strong></p>
<p><li>Ensure bitcoinOS bridge is initialized</li></p>
<p><li>Check data-theme attribute is set</li></p>
<p><li>Verify CSS variables are defined</li></p><p><strong>Can't navigate back to desktop?</strong></p>
<p><li>Confirm isInOS is true</li></p>
<p><li>Check PostMessage is working</li></p>
<p><li>Verify OS is listening for messages</li></p><h2>Support</h2><p><li>GitHub Issues: [bitcoin-OS/issues](https://github.com/bitcoin-apps-suite/bitcoin-OS/issues)</li></p>
<p><li>Documentation: This file</li></p>
<p><li>Examples: Check individual app repos</li></ul></p>
    </div>
</body>
</html>