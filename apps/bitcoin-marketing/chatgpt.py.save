#!/usr/bin/env python3
from openai import OpenAI
from colorama import Fore, Style

client = OpenAI()
messages = []

print(Fore.CYAN + "ChatGPT CLI â€” type 'exit' to quit\n" + Style.RESET_ALL)

while True:
    try:
        prompt = input(Fore.GREEN + "> " + Style.RESET_ALL).strip()
        if prompt.lower() in {"exit", "quit"}:
            print(Fore.CYAN + "Goodbye!" + Style.RESET_ALL)
            break

        messages.append({"role": "user", "content": prompt})
        response = client.chat.completions.create(
            model="gpt-4o-mini",  # or "gpt-5" if available
            messages=messages
        )
        reply = response.choices[0].message.content
        print(Fore.YELLOW + reply + "\n" + Style.RESET_ALL)
        messages.append({"role": "assistant", "content": reply})

    except KeyboardInterrupt:
        print(Fore.CYAN + "\nGoodbye!" + Style.RESET_ALL)
        break
    except Exception as e:
        print(Fore.RED + f"Error: {e}" + Style.RESET_ALL)

